CREATE TABLE BUS (
  ROUTENO NUMBER(4) PRIMARY KEY,
  SOURCE VARCHAR(15),
  DESTINATION VARCHAR(15)
);


DESC BUS;

CREATE TABLE PASSENGER (
  PID NUMBER(4) PRIMARY KEY,
  PNAME VARCHAR(15),
  DOB DATE,
  GENDER VARCHAR(6)
);

CREATE TABLE BOOK_TICKET(
  PID NUMBER(4) REFERENCES PASSENGER(PID),
  ROUTENO NUMBER(4) REFERENCES BUS(ROUTENO),
  JOURNEY_DATE DATE,
  SEAT_NO VARCHAR(5),
  PRIMARY KEY(PID, ROUTENO, JOURNEY_DATE)
);



insert into bus values(10,'COIMBATORE','SALEM');

insert into PASSENGER VALUES(101,'KUMAR','12-SEP-78','M');



insert into BOOK_TICKET 
VALUES(101,10,'12-APR-12','S1');


SELECT CONSTRAINT_NAME, CONSTRAINT_TYPE 
FROM USER_CONSTRAINTS
WHERE TABLE_NAME='BUS';


SELECT CONSTRAINT_NAME, CONSTRAINT_TYPE 
FROM USER_CONSTRAINTS
WHERE TABLE_NAME='PASSENGER';

SELECT CONSTRAINT_NAME, CONSTRAINT_TYPE, R_CONSTRAINT_NAME
FROM USER_CONSTRAINTS
WHERE TABLE_NAME='BOOK_TICKET';